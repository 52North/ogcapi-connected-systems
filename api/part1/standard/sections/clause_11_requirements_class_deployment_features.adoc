
[[clause-deployment-features]]
== Requirements Class "Deployment Features"

=== Overview
include::../requirements/deployment/requirements_class_deployment_features.adoc[]

The "Deployment Features" requirements class specifies how `Deployment` descriptions are provided using the CS API.

The `Deployment` resource implements the _http://www.w3.org/ns/ssn/Deployment[Deployment]_ concept defined in the <<SOSA-SSN,SSN Ontology>> and is used to provide information about the deployment of one or more `Systems` (with or without payloads) for a specific purpose (often at a specific location and time).

[example%unnumbered]
====
*Deployment Examples*

- An in-situ sensor deployed at a given location
- A network of in-situ sensors deployed along a river
- A network of security cameras deployed in a city
- A mission involving one or more unmanned systems (platforms) with payloads
- A team deployed to collect survey responses
- A sample collection campaign involving field personnel
- A forecast model run
====


[[clause-deployment-resource]]
=== Deployment Resource

==== Introduction

In the CS API Standard, `Deployment` resources are a special kind of feature resource that implements the _http://www.w3.org/ns/ssn/Deployment[ssn:Deployment]_ concept.

This section defines the attributes and associations composing the `Deployment` resource, but the exact way attributes and associations are encoded in the payload is defined by each encoding. For encodings defined in this document, please see:

- <<clause-geojson-deployment,Deployment resource as GeoJSON>>
- <<clause-sensorml-deployment,Deployment resource as SensorML>>

==== Properties

The following tables describe the attributes and associations of a `Deployment` resource and their mapping to SOSA/SSN.

All `Deployment` resource representations provided by encoding requirements classes map to these properties.

[#deployment-attributes,reftext='{table-caption} {counter:table-num}']
.Deployment Attributes
[width="100%",cols="5,5,17,3,3",options="header"]
|====
| *Name*              | *SOSA/SSN Property* | *Definition* | *Data Type* | *Usage*
| `uniqueIdentifier`  | RDF concept URI | The unique identifier of the deployment in the form of a URI (preferably a URN). This identifier should be persistent and independent of the actual resource URL. | URI | Required
| `name`              | `rdfs:label` | The human readable name of the deployment. | String | Required
| `description`       | `rdfs:comment` | A human readable description for the deployment. | String | Optional
| `deploymentType`    | `rdfs:type` | The type of deployment (see <<deployment-types>>). | URI | Required
| `validTime`         | - | The time period during which the systems are deployed. | DateTime | Required
| `location`          | `geo:lat`/`geo:lon` | The location or area where the systems are deployed. | Geometry | Required
|====

NOTE: For in-situ and short-range remote sensors, the area of interest is simply the area where the systems are being deployed. For models or long range remote sensing (e.g. space based earth observation), the location might not be reported and the user should query the area covered by the feature(s) of interest instead (i.e. the geographic area covered by the model or observable by the remote sensing systems).

[#deployment-assocs,reftext='{table-caption} {counter:table-num}']
.Deployment Associations
[width="100%",cols="5,5,10,10,3",options="header"]
|====
| *Name*                | *SOSA/SSN Property*  | *Definition* | *Target Content* | *Usage*
| `deployedSystems`     | `ssn:deployedSystem` | The deployed `Systems`. | A collection of `DeployedSystem` resources (inline or by-reference). See <<clause-deployed-system-resource>> | Required
| `featuresOfInterest`  | - | The ultimate features of interest that are observed and/or controlled during the `Deployment`. | A collection of `Feature` resources (inline or by-reference). | Optional
| `datastreams`         | - | The `Data Streams` containing observations collected during the `Deployment`. | A collection of `DataStream` resources (inline or by-reference). | Optional
| `controlStreams`      | - | The `Control Streams` that received commands issued during the `Deployment`. | A collection of `ControlStream` resources (inline or by-reference). | Optional
|====

[#deployment-types,reftext='{table-caption} {counter:table-num}']
.Deployment Types
[width="100%",cols="5,10,5,10",options="header"]
|====
| *Deployment Type* | *URI* | *CURIE* | *Usage*
| #TBD#     | #http://www.opengis.net/def/x-OGC/TBD1#     | #TBD# |
| #TBD#     | #http://www.opengis.net/def/x-OGC/TBD2#     | #TBD# |
|====


[[clause-deployed-system-resource]]
=== Deployed System Resource

The list of deployed systems is available as a subcollection of the `Deployment` resource.

This section defines the attributes and associations composing the `DeployedSystem` resource, but the exact way attributes and associations are encoded in the payload is defined by each encoding. For encodings defined in this document, please see:

- <<clause-geojson-deployed-system,Deployed System resource as GeoJSON>>
- <<clause-sensorml-deployed-system,Deployed System resource as SensorML>>

[#deployed-system-assocs,reftext='{table-caption} {counter:table-num}']
.Deployed System Associations
[width="100%",cols="5,10,10,5",options="header"]
|====
| *Name*          | *Definition* | *Target Content* | *Usage*
| `system`        | The deployed `System`. | A single `System` resource (inline or by-reference). | Required
| `procedure`     | The `Procedure` used to operate the system during the `Deployment`. | A single `Procedure` resource (inline or by-reference). | Optional
| `payloads`      | The list of payloads (subsystems) that are also deployed on the main system. | A list of `DeployedSystem` resources (inline). | Optional
|====


=== Canonical URL

The CS API Standard requires that a `Deployment` resource has a canonical URL through which it can be retrieved independently of its membership to any collection.

include::../requirements/deployment/req_canonical_url.adoc[]


=== Root Collection

A root collection where all `Deployment` resources can be searched must be available at a CS API endpoint.

include::../requirements/deployment/req_canonical_collection.adoc[]


=== Feature Collections

`Deployment` feature collections are identified with the feature type `deployment`.

include::../requirements/deployment/req_collections_type.adoc[]

`Deployment` resources can also be grouped into collections according to any arbitrary criteria. Any number of feature collections containing `Deployment` features can be available at a CS API endpoint.

include::../requirements/deployment/req_collections_others.adoc[]

[example%unnumbered]
====
*Examples*

- All saildrone deployments at URL `{api_root}/collections/saildrone_missions`
- All special forces deployments at URL `{api_root}/collections/sof_missions`

Note that a given deployment can be part of multiple collections at the same time.
====
